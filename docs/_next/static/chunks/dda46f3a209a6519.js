(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87564,e=>{"use strict";var t=e.i(54395),r=e.i(74375),a=e.i(59970);e.i(88090);var s=e.i(7747),n=e.i(42441),o=e.i(80661);function i(e){switch(e){case"auth/network-request-failed":return"No se pudo conectar con Google/Firebase. Revisa tu internet, bloqueadores (Brave/AdBlock) y que tu dominio esté autorizado en Firebase (karlosmontoya91.github.io).";case"auth/popup-blocked":return"Tu navegador bloqueó el popup. Intentaré abrir el login por redirección.";case"auth/popup-closed-by-user":return"Cerraste la ventana de login antes de terminar.";case"auth/unauthorized-domain":return"Dominio no autorizado. Agrega karlosmontoya91.github.io en Firebase → Authentication → Authorized domains.";case"auth/cancelled-popup-request":return"Se canceló el popup anterior. Intenta de nuevo.";default:return"No se pudo iniciar sesión. Intenta de nuevo."}}function l(){let[e,r]=(0,a.useState)(!1),[l,c]=(0,a.useState)(""),d=(0,a.useMemo)(()=>{let e=new s.GoogleAuthProvider;return e.setCustomParameters({prompt:"select_account"}),e},[]);(0,a.useEffect)(()=>{(0,s.getRedirectResult)(n.auth).catch(e=>{e?.code&&c(i(e.code))})},[]);let u=async()=>{c(""),r(!0);try{await (0,s.setPersistence)(n.auth,s.browserLocalPersistence),await (0,s.signInWithPopup)(n.auth,d)}catch(t){let e=t?.code;if("auth/popup-blocked"===e||"auth/cancelled-popup-request"===e)try{c(i(e)),await (0,s.signInWithRedirect)(n.auth,d);return}catch(e){c(i(e?.code))}else c(i(e))}finally{r(!1)}};return(0,t.jsx)("div",{className:"min-h-dvh grid place-items-center app-shell-bg px-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md glass neon-outline card-radius p-6",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Reto 365"}),(0,t.jsx)("h1",{className:"text-2xl font-black",children:"Inicia sesión"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Accede con Google para sincronizar tu progreso."})]}),(0,t.jsx)(o.Button,{onClick:u,disabled:e,className:"w-full pill font-semibold bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] hover:opacity-90 disabled:opacity-50",children:e?"Conectando...":"Continuar con Google"}),l?(0,t.jsx)("div",{className:"mt-4 rounded-xl border border-red-500/20 bg-red-500/10 p-3",children:(0,t.jsx)("p",{className:"text-sm text-red-200",children:l})}):null]})})}function c({children:e}){let{user:a,loading:s}=(0,r.useAuth)();return s?(0,t.jsx)("div",{className:"min-h-dvh grid place-items-center app-shell-bg",children:(0,t.jsxs)("div",{className:"glass neon-outline card-radius px-5 py-4 text-center",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 pill px-3 py-1 bg-white/5 border border-white/10",children:[(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-[hsl(var(--primary))]"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Cargando sesión..."})]}),(0,t.jsx)("p",{className:"mt-3 text-xs text-muted-foreground",children:"Espera un momento"})]})}):a?(0,t.jsx)(t.Fragment,{children:e}):(0,t.jsx)(l,{})}e.s(["default",()=>c],87564)}]);